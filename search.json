[{"title":"雷达基础","url":"/2022/09/21/FMCW%E9%9B%B7%E8%BE%BE/","content":"<h1 id=\"FMCW雷达\"><a href=\"#FMCW雷达\" class=\"headerlink\" title=\"FMCW雷达\"></a>FMCW雷达</h1><p><a href=\"https://zhuanlan.zhihu.com/p/508764579\">参考教程</a></p>\n<p>FMCW 雷达与脉冲雷达的不同之处在于 FMCW 雷达的电磁信号是连续传输该信号的频率随时间变化，并且通常在设定的带宽上扫描。发射和接收（反射）信号之间的频率差由这两个信号同时确定并产生一个新的信号，通过测量该信号可以确定目标的距离或速度。</p>\n<p><img src=\"/2022/09/21/FMCW%E9%9B%B7%E8%BE%BE/%E5%9B%BE%E7%89%871.png\" alt=\"芯片类型\"></p>\n<p>在多个物体检测时，距离维FFT如下图：</p>\n<p><img src=\"/2022/09/21/FMCW%E9%9B%B7%E8%BE%BE/%E5%9B%BE%E7%89%872.png\" alt=\"芯片类型\"></p>\n<p>检测物体速度时，发出两组线性调频脉冲，由于间隔时间极短，因此频率几乎相同，但相位不同：</p>\n<p><img src=\"/2022/09/21/FMCW%E9%9B%B7%E8%BE%BE/%E5%9B%BE%E7%89%873.png\" alt=\"芯片类型\"></p>\n<p>由于这种速度测量方法基于相位差，因此会存在速度模糊性。当两个IF信号的相位差超出主值区间时，将无法确定其真实的相位差，进而无法得到物体真实的速度。</p>\n<p>下面讨论位于同一距离处的多个物体速度测量。 此时，由于这些物体距离雷达的距离相同，因此在两个线性调频脉冲的情况下，距离维 FFT 仍产生单个峰值，并且是所有这些距离相同物体回波信号的叠加，此时不能分离出不同物体各自的IF 信号对应的相位差，因此并不能得到各物体的速度。</p>\n<p>此时，为了测量速度， FMCW 雷达系统必须发射多个间隔为TC 的线性调频脉冲。图 2.8 展示了 FMCW 雷达发射的一组 N 个等间隔线性调频脉冲的频率时间关系图像，这一组线性调频脉冲被称为一个线性调频脉冲帧。</p>\n<p><img src=\"/2022/09/21/FMCW%E9%9B%B7%E8%BE%BE/%E5%9B%BE%E7%89%874.png\" alt=\"芯片类型\"></p>\n<p>由于物体运动速度不同，因此其在距离维 FFT 对应的相位的变化速度也不同，在多个线性调频脉冲的 FFT 上体现为频率的不同，这是多普勒效应的一种体现。因此， 在慢时间维度上，对这 N 个相量进行 FFT，不同速度的物体将出现不同位置的峰值，这个过程称为多普勒 FFT 。</p>\n<p>FMCW 雷达系统可以估算回波信号的角度，该角度称为到达角（AoA），为了估算物体角度，雷达将使用至少两个接收天线。这些天线按一定间隔排列，在接收物体反射的回波信号时，不同天线距物体的距离将会有微小的差别，这将导致距离维 FFT 中峰值相位的差别。利用相位差即可估算到达角。</p>\n<p>FMCW雷达发射线性调频连续波（LFMCW） ，发射波形的信号形式为调频连续锯齿波。线性调频的含义即调制信号频率随时间线性变化，从时域上看是一个频率随时间线性变化的波形；从频域上看， 发射信号的频率与时间成正比。所以理想情况下，接收信号比发射信号延迟$\\tau=2R/c\\tag{1}$，其中目标与雷达距离为$R$，光速为$c$。</p>\n<p>所以理想的回波信号如下式：<br>$$<br> \\begin{aligned} S_r(t)=KA\\cos \\lbrace2\\pi &amp;\\left[ f_0\\left( t-\\tau \\right) +u\\left( t-\\tau \\right) ^2/2 \\right] +\\phi _0\\rbrace \\\\ t\\epsilon&amp;[\\tau,T+\\tau]\\end{aligned}\\tag{2}<br>$$<br>生命体征是一组关于个人健康状况和身体功能的医学参数，包括心率（HR）、呼吸频率（BR）、体温（BT）、血压（BP）等。由于心跳和呼吸会引起人体胸腔的波动， 通过 FMCW 雷达对人体胸腔运动的探测可以得到人体胸腔运动的轨迹。将轨迹分别经过心跳滤波器和呼吸滤波器后，可以得到心跳波形及呼吸波形。最后分别对这两个波形进行 FFT，最大峰值处对应的频率即为心跳和呼吸的频率。</p>\n<p>硬件设计框图：</p>\n<p><img src=\"/2022/09/21/FMCW%E9%9B%B7%E8%BE%BE/%E5%9B%BE%E7%89%875.png\" alt></p>\n<p>本设计还使用了 STM32F407 作为协处理器，负责雷达芯片配置、人机交互、与 PC 中断通信、算法实现等；雷达芯片主要负责雷达信号采样及雷达信号处理。硬件框图如图 3.1 所示。 PC 终端通过 UART 与 STM32 进行通信， STM32 通过 I2C配置雷达芯片，雷达芯片通过 SPI 将雷达数据通过 SPI 传输给 STM32。</p>\n<p>$$<br>\\begin{aligned} KPI&amp;=(N+S)W \\\\PI&amp;=N+S \\\\ I&amp;=W \\end{aligned}<br>$$</p>\n<p>卡尔曼滤波（Kalman filtering）是一种利用线性系统状态方程，通过系统输入输出观测数据，对系统状态进行最优估计的算法。由于观测数据中包括系统中的噪声和干扰的影响，所以最优估计也可看作是滤波过程。<br>数据滤波是去除噪声还原真实数据的一种数据处理技术，Kalman滤波在测量方差已知的情况下能够从一系列存在测量噪声的数据中，估计动态系统的状态。由于它便于计算机编程实现，并能够对现场采集的数据进行实时的更新和处理，Kalman滤波是目前应用最为广泛的滤波方法，在通信，导航，制导与控制等多领域得到了较好的应用。</p>\n<p>卡尔曼滤波在FCFM中的应用是将雷达采样的数据进行滤波和平滑，提高信噪比。<br>$$<br>\\begin{aligned} KPI&amp;=(N+S)W \\\\PI&amp;=N+S \\\\ I&amp;=W \\end{aligned}<br>$$</p>\n<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>电脑</td>\n<td>$1600</td>\n</tr>\n<tr>\n<td>手机</td>\n<td>$12</td>\n</tr>\n<tr>\n<td>导管</td>\n<td>$1</td>\n</tr>\n</tbody></table>\n","categories":["积累"],"tags":["雷达"]},{"title":"数学建模","url":"/2022/03/21/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/","content":"<h1 id=\"数学建模\"><a href=\"#数学建模\" class=\"headerlink\" title=\"数学建模\"></a>数学建模</h1>","categories":["竞赛"],"tags":["数学建模"]},{"title":"STM32","url":"/2022/03/21/STM32%E5%85%A5%E9%97%A8/","content":"<h1 id=\"STM32入门\"><a href=\"#STM32入门\" class=\"headerlink\" title=\"STM32入门\"></a>STM32入门</h1><p>STM32系列专为要求高性能、低成本、低功耗的嵌入式应用设计的ARM Cortex®-M0，M0+，M3, M4和M7内核，按内核架构分为不同产品：主流产品（STM32F0、STM32F1、STM32F3）、超低功耗产品（STM32L0、STM32L1、STM32L4、STM32L4+）、高性能产品（STM32F2、STM32F4、STM32F7、STM32H7）。</p>\n<p>命名规则： STM32型号的说明：以STM32F103RBT6这个型号的芯片为例，该型号的组成为7个部分，其命名规则如下：<br><img src=\"/2022/03/21/STM32%E5%85%A5%E9%97%A8/stm32.jpg\" alt=\"芯片类型\"> </p>\n<h2 id=\"单片机的最小系统\"><a href=\"#单片机的最小系统\" class=\"headerlink\" title=\"单片机的最小系统\"></a>单片机的最小系统</h2><p>这里以51单片机为例：那就是单片机、电源电路、时钟电路以及复位电路。<br><img src=\"/2022/03/21/STM32%E5%85%A5%E9%97%A8/51%E6%9C%80%E5%B0%8F%E7%B3%BB%E7%BB%9F.jpg\" alt=\"51\"> </p>\n<p>单片机是一种集成电路芯片。它采用超大规模技术将具有数据处理能力的微处理器（CPU）、存储器（含程序存储器ROM和数据存储器RAM）、输入、输出接口电路（I/O接口）集成在同一块芯片上，构成一个即小巧又很完善的计算机硬件系统，在单片机程序的控制下能准确、迅速、高效地完成程序设计者事先规定的任务。所以说，一片单片机芯片就具有了组成计算机的全部功能。</p>\n<p>复位电路：由电容串联电阻构成，由图并结合“电容电压不能突变”的性质，可以知道，当系统一上电，RST脚将会出现高电平，并且，这个高电平持续的时间由电路的RC值来决定。典型的51单片机当RST脚的高电平持续两个机器周期以上就将复位，所以，适当组合RC的取值就可以保证可靠的复位。</p>\n<p>时钟电路：单片机外部接上振荡器（也可以是内部振荡器）提供高频脉冲经过分频处理后，成为单片机内部时钟信号，作为片内各部件协调工作的控制信号。作用是来配合外部晶体实现振荡的电路，这样可以为单片机提供运行时钟。以MCS一5l单片机为例随明：MCS一51单片机为12个时钟周期执行一条指令。也就是说单片机运行一条指令，必须要用12个时钟周期。没有这个时钟，单片机就跑不起来了，也没有办法定时和进行和时间有关的操作。 时钟电路是微型计算机的心脏，它控制着计算机的二个节奏。CPU就是通过复杂的时序电路完成不同的指令功能的。</p>\n<p>电源电路：用于给单片机供电，一个稳定的电源是单片机正常工作的前提，因此，单片机附近经常会有电容用于滤波。</p>\n<p>stm32最小系统如下：<br><img src=\"/2022/03/21/STM32%E5%85%A5%E9%97%A8/32%E7%B3%BB%E7%BB%9F.jpg\" alt=\"51\"> </p>\n<p>STM32单片机的成功，和ST的软件生态也是有很大关系的。 早期的STM32编程主要以库函数（标准固件库）和寄存器两种方式进行的。库函数编程比较方便，调用ST官方提供的函数，即可完成相应功能，效率也还可以接受。寄存器方式则是直接操作STM32的相应寄存器的数据，效率极高，但是难度也很大，编程时需要查阅芯片参考手册，多用于嵌入式老手。但随着单片机性能的不断提升，对于效率又不太看重，所以，很多人基本就是选择库函数了。</p>\n<p>后来，ST为了降低编程的门槛，推出了HAL库，Hardware Abstraction Layer（硬件抽象层），说白了就是减少硬件细节，提高移植性，降低编程门槛。又配合STM32CUBEMX软件，直接就可以初始化一个工程。大大降低编程难度，本次教程就是介绍 ：HAL库配合CUBEMX配置一些常用外设的初始化，直观感受STM32编程，用最短时间入门STM32。</p>\n<p>硬件抽象层 ： 是位于操作系统 内核与硬件电路之间的接口层，其目的在于将硬件抽象化。它隐藏了特定平台的硬件接口细节,为操作系统提供虚拟硬件平台,使其具有硬件无关性,可在多种平台上进行移植。 从软硬件测试的角度来看，软硬件的测试工作都可分别基于硬件抽象层来完成，使得软硬件测试工作的并行进行成为可能。</p>\n<p>必备软件：<br>STM32CUBEMX（配置stm32初始化工程）<br>MDK Keil（编程、调试软件）<br>串口调试助手（调试软件）<br>驱动软件：Jlink 、STlink 驱动（调试器） ； CH340驱动（串口通信）</p>\n","categories":["竞赛"],"tags":["电赛"]},{"title":"电赛经验","url":"/2022/03/21/%E7%94%B5%E8%B5%9B%E7%BB%8F%E9%AA%8C/","content":"<h2 id=\"电赛经验\"><a href=\"#电赛经验\" class=\"headerlink\" title=\"电赛经验\"></a>电赛经验</h2><p>dds避免漂移的方法：在输出端对地接一个大电阻。</p>\n<h3 id=\"运放选型\"><a href=\"#运放选型\" class=\"headerlink\" title=\"运放选型\"></a>运放选型</h3><p>运放：一般选小电阻配比例，减小输入偏置电流的影响和分布电容的影响。如果很计较功耗，则要在电阻数值方面折中。</p>\n<p>精密应用时，应选用千欧姆级的电阻。</p>\n<p><strong>高速应用时，一般选择10欧或100欧级的电阻</strong>。</p>\n<p>　1、同相放大器的输入阻抗和运放的输入阻抗相等，接近无穷大，同相放大器的输入电阻取值大小不影响输入阻抗；而反相放大器的输入阻抗等于信号到输入端的串联电阻的阻值。因此当要求输入阻抗很高的时候就应选择同相放大器！</p>\n<p>　2、同相放大器的输入信号范围受运放的共模输入电压范围的限制，反相放大器则无此限制。因此如果要求输入阻抗不高且相位无要求时，首选反相放大，因为反相放大只存在差模信号，抗干扰能力强，可以得到更大的输入信号范围。</p>\n<p>也就是说同相放大器自带阻抗匹配，反相抗干扰更强。</p>\n<p>通用运放：LM358</p>\n<p>音频运放（高保真）：NE5532</p>\n<p>精密运放：op07</p>\n<p>高阻运放：CA3140Z（输入失调电压较大）高输入阻抗运放是指采用结型场效应管或MOS管做的输入级集成运放。它的一个附带特性是转换速度比较高。高输入阻抗运放应用十分广泛，如采样-保持电路、积分器、对数放大器、测量放大器、带通滤波器等。</p>\n<p>高速运放：LM318高速运放是指转换速率较高的运放，一般在<img src=\"https://private.codecogs.com/gif.latex?100V/%5Cmu%20s\" alt=\"100V/\\mu s\">以上。应用于高速<strong>A/D</strong>-D/A、 <strong>滤波器、锁相环电路、模拟乘法器等</strong></p>\n<p>直流注意<strong>失调电流</strong>、<strong>失调电压</strong>参数；差分输入判断是否选择<strong>仪表放大器</strong>；高频交流注意<strong>增益带宽积GBD</strong>和<strong>转换速度SR</strong>；</p>\n<p>根据精度要求，重点计算<strong>失调电压</strong>、<strong>偏置电流</strong>、<strong>失调电流</strong>以及<strong>共模抑制比</strong>对精度影响，判断是否选用<strong>高阻运放</strong>或者是<strong>精密运放</strong>。</p>\n<p><strong>其他要求</strong></p>\n<p>1）通道数：如果是多级在确定其他指标前提下选用多通道运放；</p>\n<p>2）单/双电源：选轨对轨信号失真小，可满幅值输出；</p>\n<p>3）功率大小：高压或大电流选用专用功率运放；</p>\n<p>1.应正确认识、对待运放的各种参数，不要盲目片面的追求指标的先进。如场效应管输入级的运放，其输入阻抗虽高，但失调电压也较大；低功耗运放的转换速率必然也较低。当用运放做微弱信号放大时，应特别注意选用失调和噪声系数均很小的运放，如<strong>ICL7650</strong>。</p>\n<p>2.应保证运放同相端与反相端对地的等效直流电阻相等。此外，在高输入及低失调、低温漂的高精度运放组成的印制电路板布线方案中，其输入端应加保护环。</p>\n<p>3.当运放用作直流放大时，必须进行调零。有调零端的运放应接相关资料推荐的调零电路进行调零。</p>\n<p>4.为了消除运放的高频自激，应参照规定的或推荐的参数，在规定的消振引脚之间介入适当的电容消振，同时应避免两级以上的运放级联，以减少消振困难。（运放在F=1时最容易自激，即跟随时）</p>\n<p>(1)反馈极性是否接错或负反馈太强.若将负反馈错接成正反馈则极易产生振荡.另外，负反馈愈强也愈易产生自激.</p>\n<p>(2)若输出端接有的电容性负载，由于容性负载加强了电路的相移，所以更易自激.可以用另一个RC环节来补偿相移，如果补偿得好自激振荡就会消除.</p>\n<p>(3)接线杂散电容过大.当输入回路为高阻时，由接线到地或接线之间的杂散电容与电阻组成的滞后环节，将使组件变得不稳定.为此可在Rf(反馈电阻)两端并联一个电容CF，或者在运放的输人端并联一个RC支路，这两个环节都属于超前校正的性质，即它们产生的相位超前作用将有可能抵消前面所述杂散电容所起的相位滞后作用，从而使运放稳定.</p>\n<p>(4)电源接线旁路措施不够.电源引线不仅具有一定电阻，还有一定的电感和分布电容，因此当有许多运放接到同一根电源线时，将通过这些因素产生相互之间的影响，解决的办法是在印刷电路板插座上的正负电源的接线端与地之间接上几十uF的电解电容和0.01uF的陶瓷电容相并联，如果运放是作为宽频放大，须选用低电感量的电容.</p>\n<h2 id=\"运放震荡原因：\"><a href=\"#运放震荡原因：\" class=\"headerlink\" title=\"运放震荡原因：\"></a>运放震荡原因：</h2><ol>\n<li><p>可能运放是分布电容和电感引起的。—————-可通过反馈端并联电容，抵消影响。防止运放自激的一般取0点几皮法到几十皮法几百皮法，看工作的频率以及运放的型号来定。</p>\n</li>\n<li><p>运放驱动容性负载导致。 —————————可在运放输出端先接入一个电阻，再接负载。十几欧到几十欧之间既可，具体值与后级电路的输入电容有关，可尝试不同的电阻值，获得稳定的输出</p>\n</li>\n<li><p>可能是反馈过深引起的    —————————–可通过减少环路增益，减少反馈量，即增大闭环增益。例如运放作为电压跟随易震荡，增大放大倍数，震荡会消失。</p>\n</li>\n</ol>\n<p>5.为了消除内阻引起的寄生振荡，可在运放电源端对地就近接去耦电容，考虑到去耦电解电容的电感效应，常常在其二端并联一个容量为0.01uf~0.1uf的瓷片电容。</p>\n<h2 id=\"消除自激振荡的方法：\"><a href=\"#消除自激振荡的方法：\" class=\"headerlink\" title=\"消除自激振荡的方法：\"></a>消除自激振荡的方法：</h2><p>目测或者审查电路，观察是否有明显的违规现象。<br>尝试更换运算放大器。比如使用驱动电容能力较强的运放。<br>如断掉负载，自激振荡消失，可考虑在负载和运放输出之间串联一个小电阻，先从 100 欧姆试起，如振荡消失，一次改为 22欧姆。最终找到合适的隔离电阻。<br>在反馈电阻中并联一个小电容，是消振最为常见的做法。<br>重新设计电路板，将杂散电容大幅度降低。<br>尝试其他补偿方法，比如教科书中介绍的超前补偿、滞后补偿等等，都是在外部增加电容，强制改变闭环传函的零极点位置，以消除自激振荡的条件。一般情况下， 用前述 5 条即可解决问题。</p>\n<h2 id=\"改变阻抗力的方法：\"><a href=\"#改变阻抗力的方法：\" class=\"headerlink\" title=\"改变阻抗力的方法：\"></a><strong>改变阻抗力的方法：</strong></h2><h2 id=\"使用变压器来做阻抗转换。\"><a href=\"#使用变压器来做阻抗转换。\" class=\"headerlink\" title=\"使用变压器来做阻抗转换。\"></a>使用变压器来做阻抗转换。</h2><p>使用串联/并联电容或电感的办法，这在调试射频电路时常使用。<br>使用串联/并联电阻的办法。</p>\n<p>## </p>\n","categories":["竞赛"],"tags":["电赛"]},{"title":"雷达原理","url":"/2022/10/16/%E9%9B%B7%E8%BE%BE%E5%8E%9F%E7%90%86/","content":"<h1 id=\"雷达原理自学笔记\"><a href=\"#雷达原理自学笔记\" class=\"headerlink\" title=\"雷达原理自学笔记\"></a>雷达原理自学笔记</h1><h2 id=\"第一讲：绪论\"><a href=\"#第一讲：绪论\" class=\"headerlink\" title=\"第一讲：绪论\"></a>第一讲：绪论</h2><p><img src=\"/2022/10/16/%E9%9B%B7%E8%BE%BE%E5%8E%9F%E7%90%86/%E5%9B%BE%E7%89%871.png\" alt=\"芯片类型\"></p>\n<p>雷达信号</p>\n","categories":["积累"],"tags":["雷达"]}]